<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tacosuke Works Catalog</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Cloudflare Web Analytics -->
  <script defer src="https://static.cloudflareinsights.com/beacon.min.js"
    data-cf-beacon='{"token": "c4515e2759544c0cb80bd25e19cd1f2f"}'></script>
</head>

<body>
  <div id="age-check" class="overlay">
    <div class="modal">
      <h2>⚠️18歳未満の方はご退出ください</h2>
      <p>このサイトにはアダルトコンテンツを含みます。</p>
      <button id="enter-btn">はい、18歳以上です</button>
    </div>
  </div>

  <header>
    <h1>Tacosuke Works Catalog</h1>

    <!-- ▼ フィルタUI -->
    <div id="filters">
      <input type="text" id="search-box" placeholder="キーワード検索（タイトル・説明）">

      <select id="category-filter">
        <option value="">すべてのカテゴリ</option>
      </select>

      <select id="series-filter">
        <option value="">すべてのシリーズ</option>
      </select>
    </div>
  </header>

  <section class="hero">
  <h2>
    ハード・マニアック向け 常識改変 AI CG集カタログ
  </h2>
  <p>
    ムチムチ・エロスポーツ・乳首ピアス・異物挿入・放尿など、
    <strong>刺さる人にだけ刺さる</strong>AI CG集を200作以上制作しています。
  </p>
  <div class="hero-actions">
    <a href="#recommend" class="cta primary">▶ おすすめ作品を見る</a>
    <a href="#series" class="cta secondary">▶ シリーズから探す</a>
  </div>
</section>

  <section id="recommend" class="recommend">
  <h2 class="section-title">はじめての方におすすめ</h2>

  <div class="recommend-grid">

    <div class="recommend-card">
      <img src="https://raw.githubusercontent.com/tacosuke/tacosuke.github.io/main/assets/images/122.jpg" alt="作品タイトル1">
      <h3>変態料理教室へようこそ！～肉便器育成レッスン～</h3>
      <p>性欲を満たす変態料理教室。極太バイブ、乳首ピアス、異物挿入カリキュラム！</p>
      <a href="https://al.fanza.co.jp/?lurl=https%3A%2F%2Fwww.dmm.co.jp%2Fdc%2Fdoujin%2F-%2Fdetail%2F%3D%2Fcid%3Dd_323391%2F&af_id=tacosuke-002&ch=toolbar&ch_id=link" class="cta primary" target="_blank">
        ▶ 今すぐ見る
      </a>
    </div>

    <div class="recommend-card">
      <img src="https://raw.githubusercontent.com/tacosuke/tacosuke.github.io/main/assets/images/118.jpg" alt="作品タイトル2">
      <h3>変態オーディション2023冬～イラストver～</h3>
      <p>人気シリーズ「変態オーディション」。エロければ何でもあり！変態女の祭典！</p>
      <a href="https://al.fanza.co.jp/?lurl=https%3A%2F%2Fwww.dmm.co.jp%2Fdc%2Fdoujin%2F-%2Fdetail%2F%3D%2Fcid%3Dd_321768%2F&af_id=tacosuke-002&ch=toolbar&ch_id=link" class="cta primary" target="_blank">
        ▶ 今すぐ見る
      </a>
    </div>

    <div class="recommend-card">
      <img src="https://raw.githubusercontent.com/tacosuke/tacosuke.github.io/main/assets/images/107.jpg" alt="作品タイトル3">
      <h3>変態商事株式会社～性欲モンスター社員とヤリ放題～</h3>
      <p>人気シリーズ「変態商事株式会社」。性欲モンスター社員に変態業務を強制！</p>
      <a href="https://al.fanza.co.jp/?lurl=https%3A%2F%2Fwww.dmm.co.jp%2Fdc%2Fdoujin%2F-%2Fdetail%2F%3D%2Fcid%3Dd_314269%2F&af_id=tacosuke-002&ch=toolbar&ch_id=link" class="cta primary" target="_blank">
        ▶ 今すぐ見る
      </a>
    </div>

  </div>
</section>

  <main>
    <div id="works-container" class="grid"></div>
  </main>

  <footer>
    <p>© 2025 Tacosuke</p>
  </footer>

  <script>
    // 年齢確認
    const overlay = document.getElementById('age-check');
    document.getElementById('enter-btn').onclick = () => overlay.style.display = 'none';

    // CSVパーサー
    function parseCSV(text) {
      const rows = [];
      let current = [], inQuotes = false, value = '';
      for (let i = 0; i < text.length; i++) {
        const c = text[i];
        if (c === '"') {
          if (inQuotes && text[i + 1] === '"') { value += '"'; i++; }
          else inQuotes = !inQuotes;
        } else if (c === ',' && !inQuotes) {
          current.push(value.trim());
          value = '';
        } else if (c === '\n' && !inQuotes) {
          current.push(value.trim());
          rows.push(current);
          current = [];
          value = '';
        } else {
          value += c;
        }
      }
      if (value) current.push(value.trim());
      if (current.length > 0) rows.push(current);
      return rows;
    }

    let allWorks = [];

    async function loadWorks() {
      const response = await fetch('https://docs.google.com/spreadsheets/d/1v0t7jK3EiajQtn2DC5Vl0MaxS2pXNBeFma63iSCGR0k/gviz/tq?tqx=out:csv');
      const data = await response.text();
      const rows = parseCSV(data);
      const header = rows.shift();

      const categorySet = new Set();
      const seriesSet = new Set();

      allWorks = rows.map(cols => {
        const [
          title, desc, img,
          fanza, dlsite, booth, pictspace,
          category, series
        ] = cols.map(v => v.replace(/^"|"$/g, ''));

        if (category) categorySet.add(category);
        if (series) seriesSet.add(series);

        return { title, desc, img, fanza, dlsite, booth, pictspace, category, series };
      });

      // ▼ セレクトボックス作成
      const categoryFilter = document.getElementById('category-filter');
      categorySet.forEach(c => {
        categoryFilter.innerHTML += `<option value="${c}">${c}</option>`;
      });

      const seriesFilter = document.getElementById('series-filter');
      seriesSet.forEach(s => {
        seriesFilter.innerHTML += `<option value="${s}">${s}</option>`;
      });

      categoryFilter.addEventListener('change', renderFiltered);
      seriesFilter.addEventListener('change', renderFiltered);
      document.getElementById('search-box').addEventListener('input', renderFiltered);

      renderFiltered();
    }

    // ▼ フィルタ + 検索
    function renderFiltered() {
      const category = document.getElementById('category-filter').value;
      const series = document.getElementById('series-filter').value;
      const keyword = document.getElementById('search-box').value.toLowerCase();
      const container = document.getElementById('works-container');
      container.innerHTML = '';

      allWorks
        .filter(w =>
          (!category || w.category === category) &&
          (!series || w.series === series) &&
          (
            w.title.toLowerCase().includes(keyword) ||
            w.desc.toLowerCase().includes(keyword) ||
            (w.series && w.series.toLowerCase().includes(keyword)) ||
            (w.category && w.category.toLowerCase().includes(keyword))
          )
        )
        .forEach(w => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <img src="${w.img}" alt="${w.title}">
            <h2>${w.title}</h2>
            <p>${w.desc}</p>
            <div class="links">
              ${w.fanza ? `<a href="${w.fanza}" target="_blank" class="btn fanza">FANZA</a>` : ''}
              ${w.dlsite ? `<a href="${w.dlsite}" target="_blank" class="btn dlsite">DLsite</a>` : ''}
              ${w.booth ? `<a href="${w.booth}" target="_blank" class="btn booth">BOOTH</a>` : ''}
              ${w.pictspace ? `<a href="${w.pictspace}" target="_blank" class="btn pictspace">pictSPACE</a>` : ''}
            </div>
          `;
          container.appendChild(card);
        });
    }

    loadWorks();
  </script>
</body>
</html>





